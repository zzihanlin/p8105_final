<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Zihan Lin" />


<title>Repot</title>

<script src="site_libs/header-attrs-2.28/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="mailto:&lt;you@youremail.com&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://github.com/&lt;YOUR_GH_NAME&gt;/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Repot</h1>
<h4 class="author">Zihan Lin</h4>

</div>


<div id="motivation" class="section level2">
<h2>Motivation</h2>
<p>Extreme weather is on the rise due to climate change, with many,
especially those who come from a lower socioeconomic background, already
feeling the adverse effects changing weather patterns. Asthma is a
co-morbidity for other chronic diseases and also disproportionately
affects those from a lower economic status. In this project, we want to
focus on asthma prevalence/incidence as hotter temperatures can lead to
more pollen, air pollution, and other lung irritants. Studying these
trends will help understand the health risks in vulnerable
populations.</p>
<p>Key Questions: 1. How do asthma cases correlate with temperature
extremes? 2. Are there temporal or spatial patterns in asthma
prevalence?</p>
</div>
<div id="data" class="section level2">
<h2>Data</h2>
<p>To retrieve the temperature data, different options were explored
from within the rnoaa package. meteo_pull_monitors() was first explored,
but due to the number of monitors from each state, it was not realistic
to pull data from each monitor to calculate the average temperature over
a 10-year period. ncdc() was then investigated for use. This uses the
National Climatic Data Center to access weather data and already has a
TAVG variable for the average temperature. However, there were
limitations as it could only gather data one year at a time and there
was also issues with the API of this site. Using online resources was
not realistic as datasets online were typically separated by
year/month/day so getting a seasonal average was not possible. In the
end, the temperature data was extracted using meteo_pull_monitors(). 30
monitors from each state were randomly selected and the daily mean of
each station was found by averaging the minimum and maximum temperatures
(the TAVG as reported by meteo_pull_monitors() could not be used as many
stations were missing this data) for every day from 1/1/2011 to
12/31/2021 in every state. The data was then grouped by state, year, and
season to find the seasonal average for every state in every year.</p>
<pre class="r"><code># Load datasets
asthma_data &lt;- read_csv(&quot;data/asthma_data.csv&quot;)</code></pre>
<pre><code>## Rows: 559 Columns: 3
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (1): state
## dbl (2): year_name, prevalence_percent
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<pre class="r"><code>temp_data &lt;- read_csv(&quot;data/temp_data.csv&quot;)</code></pre>
<pre><code>## Rows: 2193 Columns: 4
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (2): state, season
## dbl (2): year, avg_temp
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<p>The analysis uses two primary datasets: Asthma Data and Temperature
Data. The Asthma Data consists of 559 observations and 3 variables,
which include details such as the date of record, the region, and the
number of asthma cases reported (cases). A brief look at the first few
rows reveals the following column names: year_name, state,
prevalence_percent, NA, NA, providing an overview of the key information
captured.</p>
<p>The Temperature Data contains 2193 observations and 4 variables, with
key columns including the date of the temperature reading (date), the
region (region), and the recorded temperature (temp). This dataset
provides critical environmental context for analyzing the relationship
between temperature and asthma cases.</p>
</div>
<div id="exploratory-data-analysis" class="section level2">
<h2>Exploratory Data Analysis</h2>
<pre class="r"><code># Summary of asthma data
asthma_summary &lt;- asthma_data %&gt;%
  summarize(
    avg_prevalence = mean(prevalence_percent, na.rm = TRUE),
    min_prevalence = min(prevalence_percent, na.rm = TRUE),
    max_prevalence = max(prevalence_percent, na.rm = TRUE)
  )

asthma_summary</code></pre>
<pre><code>## # A tibble: 1 × 3
##   avg_prevalence min_prevalence max_prevalence
##            &lt;dbl&gt;          &lt;dbl&gt;          &lt;dbl&gt;
## 1           9.42            6.2           13.2</code></pre>
<pre class="r"><code># Summary of temperature data
temp_summary &lt;- temp_data %&gt;%
  summarize(
    avg_temp_overall = mean(avg_temp, na.rm = TRUE),
    min_temp = min(avg_temp, na.rm = TRUE),
    max_temp = max(avg_temp, na.rm = TRUE)
  )

temp_summary</code></pre>
<pre><code>## # A tibble: 1 × 3
##   avg_temp_overall min_temp max_temp
##              &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
## 1             11.9    -14.0     30.3</code></pre>
<pre class="r"><code># Average temperature by year
yearly_temp_summary &lt;- temp_data %&gt;%
  group_by(year) %&gt;%
  summarize(
    avg_temp = mean(avg_temp, na.rm = TRUE)
  )

yearly_temp_summary</code></pre>
<pre><code>## # A tibble: 11 × 2
##     year avg_temp
##    &lt;dbl&gt;    &lt;dbl&gt;
##  1  2011     11.7
##  2  2012     12.7
##  3  2013     11.1
##  4  2014     10.9
##  5  2015     12.1
##  6  2016     12.6
##  7  2017     12.2
##  8  2018     11.7
##  9  2019     11.4
## 10  2020     12.1
## 11  2021     12.2</code></pre>
<pre class="r"><code># Average temperature by season
seasonal_temp_summary &lt;- temp_data %&gt;%
  group_by(season) %&gt;%
  summarize(
    avg_temp = mean(avg_temp, na.rm = TRUE)
  )

seasonal_temp_summary</code></pre>
<pre><code>## # A tibble: 4 × 2
##   season avg_temp
##   &lt;chr&gt;     &lt;dbl&gt;
## 1 Fall      12.9 
## 2 Spring    11.1 
## 3 Summer    22.4 
## 4 Winter     1.18</code></pre>
<pre class="r"><code>ggplot(yearly_temp_summary, aes(x = year, y = avg_temp)) +
  geom_line(color = &quot;blue&quot;) +
  labs(
    title = &quot;Average Temperature Over Time&quot;,
    x = &quot;Year&quot;,
    y = &quot;Average Temperature (°C)&quot;
  )</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<pre class="r"><code>ggplot(seasonal_temp_summary, aes(x = season, y = avg_temp, fill = season)) +
  geom_bar(stat = &quot;identity&quot;) +
  labs(
    title = &quot;Average Temperature by Season&quot;,
    x = &quot;Season&quot;,
    y = &quot;Average Temperature (°C)&quot;
  )</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<pre class="r"><code># Temperature by state
state_temp_summary &lt;- temp_data %&gt;%
  group_by(state) %&gt;%
  summarize(
    avg_temp = mean(avg_temp, na.rm = TRUE)
  )

ggplot(state_temp_summary, aes(x = reorder(state, -avg_temp), y = avg_temp)) +
  geom_bar(stat = &quot;identity&quot;, fill = &quot;steelblue&quot;) +
  coord_flip() +
  labs(
    title = &quot;Average Temperature by State&quot;,
    x = &quot;State&quot;,
    y = &quot;Average Temperature (°C)&quot;
  )</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
